<!-- 
 * (C) Copyright IBM Corporation 2015.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html  xmlns="http://www.w3.org/1999/xhtml" 
       xmlns:h="http://xmlns.jcp.org/jsf/html" 
       xmlns:f="http://xmlns.jcp.org/jsf/core"
	   xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
       xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">
<h:head>
	<title>DayTrader Account</title>
	<link rel="stylesheet" href="style-jsf.css" type="text/css" />
	<link rel="shortcut icon" href="./favicon.ico" />
</h:head>
<h:body>

	<div id="page-wrap">
		<h:form id="updateProfile">
			<div id="header">
				<img src="images/DayTraderHead_blue.gif" style="display: block; margin-left: auto; margin-right: auto" />

				<div id="nav2">
					<ul id="list-nav2">
						<li>
							<h:outputLink value="tradehome.faces">Home</h:outputLink>
						</li>
						<li>
							<h:outputLink value="account.faces">Account</h:outputLink>
						</li>
						<li>
							<h:outputLink value="marketSummary.faces">Market</h:outputLink>
						</li>
						<li>
							<h:outputLink value="portfolio.faces">Portfolio</h:outputLink>
						</li>
						<li>
							<h:outputLink value="quote.faces">Quotes/Trade</h:outputLink>
						</li>
						<li>
							<h:commandLink action="#{tradeapp.logout}" id="logoff">Logoff</h:commandLink>
						</li>
					</ul>
				</div>
			</div>

			<div id="content">

				<div id="contentContainer">
					<font color="#cc0000"> <h:outputText value="#{tradeapp.results}"></h:outputText></font>
					<h:outputText value="#{accountdata.currentTime}" style="float:right;color:#cc0000;font-size:10px" />

					<h:panelGroup rendered="#{fn:length(accountdata.closedOrders) > 0}">
						<table style="width: 100%">
							<tr>
								<td colspan="8" bgcolor="#cc0000">
									<b>
										<font color="#ffffff">Alert: The following Order(s) have completed.</font>
									</b>
								</td>
							</tr>
							<tr style="width: 100%;">
								<td>
									<h:dataTable id="orders" width="100%" value="#{accountdata.closedOrders}" var="item" styleClass="table" headerClass="tableHeader"
										rowClasses="tableOddRow,tableEvenRow"
										columnClasses="tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn">

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="order id" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.orderID}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="order status" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.orderStatus}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="creation date" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.openDate}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="completion date" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.completionDate}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="txn fee" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.orderFee}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="type" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.orderType}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="symbol" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.symbol}"></h:outputText>
										</h:column>

										<h:column>
											<f:facet name="header">
												<h:outputLink value="docs/glossary.html">
													<h:outputText value="quantity" />
												</h:outputLink>
											</f:facet>
											<h:outputText value="#{item.quantity}"></h:outputText>
										</h:column>
									</h:dataTable>
								</td>
							</tr>
						</table>
					</h:panelGroup>


					<table width="100%">
						<tbody>
							<tr>
								<td valign="top">
									<table width="100%">
										<tbody>
											<tr>
												<td colspan="8" align="left" bgcolor="#cccccc">
													<h3>Account Information</h3>
												</td>
											</tr>
											<tr>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">account created:</a>
												</td>
												<td align="left" valign="bottom" colspan="2">
													<h:outputText value="#{accountdata.creationDate}" />
												</td>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">last login: </a>
												</td>
												<td align="left" valign="bottom" colspan="3">
													<h:outputText value="#{accountdata.lastLogin}" />
												</td>
												<td align="left" valign="bottom"></td>
											</tr>
											<tr>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">account ID:</a>
												</td>
												<td valign="bottom">
													<h:outputText value="#{accountdata.accountID}" />
												</td>
												<td valign="bottom"></td>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">total logins: </a>
												</td>
												<td valign="bottom">
													<h:outputText value="#{accountdata.loginCount}" />
												</td>
												<td valign="bottom"></td>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">cash balance: </a>
												</td>
												<td valign="bottom">
													<h:outputText value="#{accountdata.balance}" />
												</td>
											</tr>
											<tr>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">user ID:</a>
												</td>
												<td valign="bottom">
													<h:outputText value="#{accountdata.profileID}" />
												</td>
												<td valign="bottom"></td>
												<td align="right" valign="bottom">
													<a href="docs/glossary.html">total logouts: </a>
												</td>
												<td valign="bottom">
													<h:outputText value="#{accountdata.logoutCount}" />
												</td>
												<td valign="bottom"></td>
												<td valign="bottom" align="right">
													<a href="docs/glossary.html">opening balance: </a>
												</td>
												<td valign="bottom">
													<h:outputText value="#{accountdata.openBalance}" />
												</td>
											</tr>
											<tr>
												<td colspan="8"></td>
											</tr>
										</tbody>
									</table>
									<table width="100%">
										<tbody>

											<tr>
												<td colspan="5" bgcolor="#cccccc">
													<h3>Total Orders: ${accountdata.numberOfOrders}</h3>
												</td>
												<td bgcolor="#cccccc" align="right">
													<h:commandLink action="#{accountdata.toggleShowAllRows}" value="Show All Rows" />
												</td>
											</tr>
											<tr>
												<td colspan="6">
													<h:dataTable id="orders2" rows="${accountdata.numberOfOrderRows}" value="#{accountdata.allOrders}" var="item" styleClass="table"
														width="100%" headerClass="tableHeader" rowClasses="tableOddRow,tableEvenRow"
														columnClasses="tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn,tableColumn">

														<h:column>
															<f:facet name="header">
																<h:outputText value="order id" />
															</f:facet>
															<h:outputText value="#{item.orderID}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="order status" />
															</f:facet>
															<h:outputText value="#{item.orderStatus}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="creation date" />
															</f:facet>
															<h:outputText value="#{item.openDate}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="completion date" />
															</f:facet>
															<h:outputText value="#{item.completionDate}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="txn fee" />
															</f:facet>
															<h:outputText value="#{item.orderFee}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="type" />
															</f:facet>
															<h:outputText value="#{item.orderType}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="symbol" />
															</f:facet>
															<h:outputText value="#{item.symbol}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="quantity" />
															</f:facet>
															<h:outputText value="#{item.quantity}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="price" />
															</f:facet>
															<h:outputText value="#{item.price}"></h:outputText>
														</h:column>
														<h:column>
															<f:facet name="header">
																<h:outputText value="total" />
															</f:facet>
															<h:outputText value="#{item.total}"></h:outputText>
														</h:column>
													</h:dataTable>
												</td>
											</tr>
											<tr>
												<td colspan="6"></td>
											</tr>
										</tbody>
									</table>

									<table width="100%">
										<tbody>
											<tr>
												<td colspan="6" bgcolor="#cccccc">
													<h3>Account Profile</h3>
												</td>
											</tr>
											<tr>
												<td align="right" valign="top" width="113">
													<a href="docs/glossary.html">user ID:</a>
												</td>
												<td align="left" valign="top" colspan="2" width="228">
													<h:inputText class="rounded" id="uid" value="#{tradeapp.userID}" required="true" />
												</td>

												<td align="right" valign="top" width="73" colspan="2">
													<a href="docs/glossary.html">full name: </a>
												</td>
												<td align="left" valign="top">
													<h:inputText class="rounded" id="fullname" value="#{tradeapp.fullname}" readonly="true" />
												</td>
											</tr>
											<tr>
												<td align="right" width="113">
													<a href="docs/glossary.html">password:</a>
												</td>
												<td colspan="2" width="228">
													<h:inputSecret class="rounded" redisplay="true" id="password" value="#{tradeapp.password}" required="true">
														<f:validateLength minimum="1" maximum="12" />
													</h:inputSecret>
												</td>
												<td align="right" width="73" colspan="2">
													<a href="docs/glossary.html">address:</a>
												</td>
												<td>
													<h:inputText id="address" class="rounded" value="#{tradeapp.address}" readonly="true" />
												</td>
											</tr>
											<tr>
												<td align="right" width="113">
													<a href="docs/glossary.html">confirm password: </a>
													<br />
												</td>
												<td colspan="2" align="left" width="228">
													<h:inputText class="rounded" id="cpassword" value="#{tradeapp.cpassword}" required="true" />
												</td>
												<td align="right" width="73" colspan="2">
													<a href="docs/glossary.html">credit card: </a>
												</td>
												<td align="left">
													<h:inputText class="rounded" id="ccn" value="#{tradeapp.ccn}" required="true">
														<f:validateLength minimum="1" maximum="30" />
													</h:inputText>
												</td>
											</tr>
											<tr>
												<td align="right" width="113">
													<a href="docs/glossary.html">email address: </a>
												</td>
												<td colspan="2" align="left" width="228">
													<h:inputText class="rounded" id="email" value="#{tradeapp.email}" required="true" />
												</td>
												<td align="right" width="73" colspan="2"></td>
												<td align="center">
													<h:commandButton class="submit" id="submit" type="submit" value="Update Profile" action="#{tradeapp.updateProfile}" />
												</td>
											</tr>
											<tr>
												<td width="113"></td>
												<td colspan="5"></td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
					<table style="width: 100%;">
						<tbody>
							<tr>
								<td colspan="2">
									<hr />
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<table width="100%" style="font-size: 11px">
										<tbody>
											<tr>
												<td></td>
												<td style="vertical-align: bottom; text-align: center">
													<h:commandButton class="submit" id="submit2" type="submit" value="quotes" action="#{quotedata.getQuotesBySymbols}" />
													<h:inputText id="symbols" class="rounded" value="#{quotedata.symbols}" required="true">
														<f:validateLength minimum="1" maximum="40" />
													</h:inputText>
												</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</h:form>
	</div>
	<div id="footer"></div>

</h:body>
</html>